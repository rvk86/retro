import React, {
  PropTypes,
  Component
} from 'react';
import Button from 'react-bootstrap/lib/Button';
import Glyphicon from 'react-bootstrap/lib/Glyphicon';
import Row from 'react-bootstrap/lib/Row';
import Col from 'react-bootstrap/lib/Col';

import './ColorSelector.css';

class ColorSelector extends Component {
  static propTypes = {
    palettes: PropTypes.arrayOf(PropTypes.shape({
      id: PropTypes.number,
      name: PropTypes.string,
      colors: PropTypes.array
    })),
    barHeight: PropTypes.number,
    paletteIndex: PropTypes.number,
    selectPalette: PropTypes.func,
    backgroundIndex: PropTypes.number,
    selectBackground: PropTypes.func,
  }

  componentWillMount() {
    document.addEventListener("keydown", this._keyDown);
  }


  componentWillUnmount() {
    document.removeEventListener("keydown", this._keyDown);
  }

  shouldComponentUpdate(nextProps) {
    let firstTimeLoaded = this.props.palettes.length === 0 && nextProps.palettes.length > 0;
    let paletteChanged = this.props.paletteIndex !== nextProps.paletteIndex;
    let backgroundChanged = this.props.backgroundIndex !== nextProps.backgroundIndex;

    return firstTimeLoaded || paletteChanged || backgroundChanged;
  }

  _keyDown = (e) => {
    if (e.key === 'ArrowUp') {
      // e.preventDefault();
      this.props.selectPalette(-1);
    }
    if (e.key === 'ArrowDown') {
      // e.preventDefault();
      this.props.selectPalette(1);
    }
  }

  _touchStart = (e) => {
    // e.preventDefault();
    this.touchStartY = e.touches[0].clientY;
  }

  _touchEnd = (e) => {
    let diff = e.changedTouches[0].clientY - this.touchStartY;
    if (diff < 20 && diff > -20) return;

    let offset = 0;
    if (diff > 20) {
      offset = -1;
    } else if (diff < -20) {
      offset = 1;
    }
    this.touchStartY = null;
    this.props.selectPalette(offset);
  }

  _wheel = (e) => {
    let offset = e.deltaY < 0 ? -1 : 1;
    this.scroll(offset);
  }

  getColor = (index) => {
    if(this.props.palettes.length === 0) return;
    return this.props.palettes[this.props.paletteIndex].colors[index];
  }

  getRandomIndex = (palette, backgroundIndex) => {
    if(this.props.palettes.length === 0) return;
    let indexList = palette.colors
      .map((color, index) => {
        return index;
      })
      .filter((index) => {
        return index !== backgroundIndex;
      });

    return indexList[Math.floor(Math.random() * indexList.length)];
  }

  getRandomColor = () => {
    let palette = this.props.palettes[this.props.paletteIndex];
    let index = this.getRandomIndex(palette, this.props.backgroundIndex);
    return this.getColor(index);
  }

  render() {
    let colorBars = this.props.palettes.map((palette, paletteIndex) => {
      return (
        <div key={palette.id}
             className={this.props.paletteIndex === paletteIndex ? 'selected colorBar' : 'colorBar'}>
          <div className="colorPalette">
            {palette.colors.map((color, backgroundIndex) => {
              let style = {background: color, width: `${100 / palette.colors.length}%`};
              let selected = this.props.backgroundIndex === backgroundIndex && this.props.paletteIndex === paletteIndex ?
                             'selected' :
                             '';
              return (
                <div key={backgroundIndex}
                     className={`colorBlock ${selected}`}
                     style={style}
                     onClick={() => this.props.selectBackground(paletteIndex, backgroundIndex)}>
                  <div className="bgText">
                    <Glyphicon glyph="ok"/>
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      );
    });
    let scrollableStyle = {
      height: this.props.barHeight * 2,
      top: -((this.props.barHeight * this.props.paletteIndex) - (this.props.barHeight / 2))
    };

    // Setting the fill for every path seperately. I tried doing node.style.fill, but for
    // some reason this didn't work on an iPad mini (Chrome 58.0)
    return (
      <div className="ColorSelector">
        <Row>
          <Col sm={6}>
            <svg viewBox="0 0 300 300">
              <rect id="backgroundRect" width="100%" height="100%" fill={this.getColor(this.props.backgroundIndex)}/>
              <g id="randomPathContainer" viewBox="0 0 59 0" transform="matrix(0.021883,0,0,-0.02149603,9.9404194,282.17751)">
                <path fill={this.getRandomColor()}
                   d="m -296.96462,12196.922 3.14018,-740.672 1025.7905,-604.9 c 564.18474,-333.358 1028.93064,-604.901 1032.07084,-606.005 3.1402,0 176.8966,344.396 386.2416,764.957 209.3449,419.456 396.7087,794.76 415.5498,831.186 l 34.5419,67.334 -169.5694,99.345 c -94.2053,55.192 -490.914,285.893 -882.3892,515.49 l -712.81977,415.041 -567.32495,0 -567.32495,0 2.09345,-741.776 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 958.05867,12934.283 c 3.14017,-2.208 1123.13593,-656.781 1359.69583,-793.656 31.4017,-18.765 110.9528,-65.126 176.8965,-103.76 64.8969,-37.531 122.4668,-69.542 126.6537,-69.542 5.2336,0 396.7088,739.568 509.7551,963.647 2.0935,4.415 -486.7271,7.726 -1086.5006,7.726 -599.7734,0 -1088.59398,-2.207 -1086.50053,-4.415 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 2938.4624,12439.766 c -144.448,-274.855 -258.5411,-504.452 -254.3542,-508.867 19.8878,-23.181 5436.6897,-3197.8056 5444.0168,-3190.0788 13.6074,15.4537 951.473,1745.1608 951.473,1755.0948 0,4.416 -104.6725,70.646 -233.4197,144.602 -127.7005,75.061 -1057.1922,622.562 -2065.1884,1217.529 l -1831.7688,1080.652 -874.0153,0 -875.0622,0 -261.6812,-498.932 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 5071.6879,12934.283 c 2.0935,-2.208 584.0726,-345.5 1291.6587,-762.749 708.6329,-417.249 1541.8259,-909.558 1852.7033,-1092.795 874.0154,-515.49 894.9498,-527.632 899.1368,-523.217 11.5139,14.35 973.4543,1859.959 976.5943,1874.309 7.327,34.219 -209.3445,189.86 -490.9139,353.227 l -266.915,155.64 -2133.2255,0 c -1173.3787,0 -2131.1321,-2.207 -2129.0387,-4.415 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 9457.4658,12934.283 c 2.0933,-2.208 100.4856,-59.607 218.7655,-128.045 127.7004,-72.853 262.7284,-161.159 332.8577,-217.455 65.945,-50.776 120.374,-91.618 122.468,-89.41 7.327,8.83 225.045,428.287 225.045,432.702 0,4.416 -203.064,6.623 -452.1847,6.623 -248.0738,0 -449.045,-2.207 -446.9515,-4.415 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10443.481,12653.909 -149.682,-283.685 34.542,-30.907 c 85.832,-78.372 104.673,-87.203 157.009,-71.749 39.775,11.038 101.532,8.83 366.353,-12.142 517.083,-41.946 783.997,-26.492 1159.772,66.23 101.532,24.284 103.625,28.699 103.625,137.979 0,55.191 17.795,141.29 68.037,325.631 19.888,72.853 36.636,137.979 36.636,143.498 0,5.519 -325.532,9.934 -813.305,9.934 l -814.352,0 -148.635,-284.789 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 12262.689,12864.742 c -64.897,-232.909 -86.879,-326.735 -92.112,-408.419 -7.327,-105.968 -15.701,-100.449 108.859,-75.06 45.01,9.934 143.402,22.076 217.719,28.699 185.271,14.35 341.233,37.531 478.353,70.646 63.851,15.453 117.233,27.595 119.327,27.595 2.094,0 4.187,97.138 4.187,215.248 l 0,215.247 -408.223,0 -407.176,0 -20.934,-73.956 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 12942.013,12413.274 c -86.878,-22.077 -272.148,-48.569 -423.923,-59.607 -130.841,-11.039 -300.41,-40.842 -486.728,-87.203 -423.923,-104.864 -630.128,-115.903 -1223.621,-66.23 -361.12,30.907 -364.26,28.7 -200.971,-89.411 129.794,-93.825 351.699,-284.789 597.68,-513.282 452.185,-420.561 551.624,-479.064 1256.07,-734.049 216.672,-78.372 299.363,-114.799 434.391,-189.86 92.111,-50.776 175.85,-96.033 186.316,-100.448 16.749,-6.623 17.795,11.038 17.795,283.685 l 0,291.412 -41.869,35.322 c -47.102,38.635 -226.093,131.357 -387.288,198.69 -305.644,128.045 -561.045,315.697 -491.961,360.954 15.701,11.038 26.168,5.519 63.85,-32.011 118.28,-115.903 200.972,-169.991 372.635,-241.74 152.821,-62.918 368.447,-166.679 427.064,-203.105 l 57.569,-37.53 0,570.681 0,570.682 -50.243,28.7 c -47.102,27.596 -51.289,27.596 -106.766,14.35 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10060.379,11920.964 c -113.0461,-214.144 -331.8115,-632.496 -487.7735,-930.531 l -282.6158,-540.879 170.6162,-90.514 c 442.7645,-234.013 683.5111,-249.466 1194.3141,-73.957 1463.321,500.037 1558.572,519.906 2009.712,400.692 69.083,-17.662 135.027,-35.323 146.54,-38.635 87.925,-22.076 -159.101,84.996 -397.754,172.198 -700.26,258.297 -796.559,313.489 -1240.37,728.53 -214.579,200.898 -457.419,409.523 -580.932,501.141 -39.776,29.803 -99.44,77.268 -130.841,105.968 -52.336,46.361 -154.915,128.044 -185.27,146.81 -7.327,5.519 -80.598,-123.63 -215.626,-380.823 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 2235.0632,11055.559 c -225.0459,-453.676 -411.363,-828.979 -412.4097,-834.498 -1.0467,-5.519 113.0463,-78.372 254.3542,-162.264 991.2486,-588.3429 5109.0648,-3015.6725 5121.6255,-3017.8801 5.2336,-1.1039 164.3358,283.6851 354.8397,632.4965 523.3626,962.5427 541.1569,996.7615 527.5494,1011.1113 -9.4205,9.9345 -5425.1756,3194.4933 -5432.5028,3194.4933 -1.0467,0 -187.3637,-370.888 -413.4563,-823.459 z"
                />
                <path fill={this.getRandomColor()}
                   d="m -296.96462,10302.744 3.14018,-1088.3793 570.46512,-334.4615 c 314.01751,-183.2363 574.65204,-332.2538 578.83894,-331.15 13.60742,4.4154 884.48268,1634.7768 877.15548,1643.6078 -3.1401,3.312 -446.9515,266.024 -984.96816,582.824 -538.01666,316.8 -994.38876,585.032 -1013.22981,597.174 l -33.4952,19.869 2.09345,-1089.484 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 12078.465,10664.802 c -73.27,-7.727 -223.999,-41.946 -353.793,-78.372 -23.028,-6.623 -60.71,-29.804 -83.737,-52.984 -118.281,-110.384 -516.036,-327.839 -839.475,-456.987 -331.811,-133.5643 -343.325,-139.0834 -428.11,-199.7943 -40.822,-28.6996 -87.925,-54.0878 -112,-57.3993 -23.027,-4.4153 -39.775,-11.0383 -38.729,-15.4537 7.328,-19.869 327.625,-264.92 345.42,-264.92 109.906,0 289.943,52.984 413.457,121.4217 307.737,172.198 605.006,188.7555 899.136,49.6725 321.344,-152.329 488.821,-99.345 913.791,290.3081 264.822,241.74 304.597,298.035 304.597,424.976 0,91.618 26.168,77.268 -315.064,168.886 l -276.335,75.061 -172.71,2.208 c -95.252,1.104 -210.392,-2.208 -256.448,-6.623 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 11209.683,10414.232 c -166.429,-57.4 -428.11,-147.914 -580.932,-200.898 l -277.382,-94.93 -204.112,0 c -197.8304,1.104 -216.6714,3.312 -382.0541,44.154 l -31.4017,7.726 36.6354,-34.218 c 19.8877,-19.869 91.0651,-73.957 157.0083,-120.318 65.9442,-46.3613 143.4021,-102.6568 170.6161,-124.7334 l 50.243,-39.738 70.131,16.5575 c 50.243,12.1421 90.018,32.0111 143.401,70.6453 57.57,41.9457 138.168,78.3726 373.681,173.3016 289.943,115.903 517.082,229.598 723.287,363.161 47.103,30.908 75.365,52.984 57.569,45.258 -2.092,0 -139.213,-48.569 -306.69,-105.968 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 9248.1207,10371.182 C 9235.56,10341.379 9009.4674,9925.2334 7310.6328,6795.8659 6798.7842,5855.3998 6379.0475,5079.405 6376.954,5072.782 c -4.1869,-15.4537 214.5787,-280.3737 287.8494,-347.7075 180.0367,-165.575 735.8477,-345.4998 1122.0893,-363.1612 236.5598,-11.0383 292.0362,-22.0766 476.2598,-93.8258 148.635,-58.5032 260.6345,-82.7875 382.0546,-82.7875 178.99,0 671.9975,65.1262 687.6983,90.5143 38.7288,67.3339 13.6074,597.1739 -38.7287,809.1099 -30.3551,124.7331 -53.383,288.1005 -71.1774,513.2825 -19.8877,247.2586 69.0839,639.1195 220.859,971.3733 195.7376,428.2874 231.3262,581.7202 213.532,900.728 -34.542,592.7585 -9.4206,735.1531 213.5315,1202.0746 l 90.0186,188.7555 -80.5976,451.4678 -80.598,452.5717 -37.6821,41.9456 c -21.9812,23.1805 -115.1398,102.6565 -209.345,175.5095 -208.2982,162.2633 -216.6721,175.5093 -169.5695,289.2043 l 19.8878,50.776 -65.9437,38.635 c -78.5044,46.361 -73.2707,45.257 -88.9716,9.934 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 9429.2042,10239.826 c -23.028,-73.957 -27.2149,-68.438 146.5415,-200.898 70.1306,-52.9838 155.962,-125.8368 191.5507,-161.1594 l 64.8973,-65.1262 115.1392,13.246 c 140.2611,16.5575 143.4011,2.2077 -21.9808,120.3178 -76.4111,54.0878 -183.1771,137.9788 -237.6069,187.6518 -54.4296,50.776 -129.7938,108.176 -168.5227,128.045 l -70.1306,37.53 -19.8877,-59.607 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 1347.4404,9335.7864 -440.67126,-823.4597 33.4952,-20.9728 C 1067.9648,8410.7741 6268.0947,5363.0902 6280.6554,5361.9863 c 14.6541,-1.1038 884.4825,1579.5856 887.6227,1612.7006 0,7.7268 -514.9887,316.8001 -1145.1171,688.792 -1147.2106,675.546 -3476.1738,2049.8185 -3954.5271,2332.3998 -139.2144,82.7873 -259.5878,153.4333 -266.9149,156.7443 -10.4672,3.312 -152.8218,-253.8816 -454.2786,-816.8366 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 12814.313,9940.6871 c -415.55,-379.7187 -643.736,-450.364 -939.96,-291.412 -239.699,129.1485 -555.81,122.5255 -821.679,-16.5575 -178.989,-92.722 -218.765,-108.1757 -349.605,-133.5639 l -94.206,-17.6613 85.832,-83.8913 c 450.092,-436.0142 593.493,-677.7537 536.97,-907.351 -8.374,-33.115 -13.608,-61.8147 -11.514,-64.0224 4.187,-4.4153 483.587,275.9584 596.633,348.8114 227.139,146.8098 352.746,243.9471 536.97,412.8336 250.167,229.5974 767.249,947.0893 682.464,947.0893 -5.233,0 -104.672,-87.203 -221.905,-194.2749 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 12995.396,9907.5721 c -435.438,-676.6499 -724.334,-943.7775 -1524.031,-1406.2837 -253.308,-145.706 -455.326,-273.7507 -454.279,-286.9967 0,-3.3115 75.364,-69.5415 168.523,-147.9137 l 167.475,-142.3945 96.299,48.5687 c 248.075,124.7332 359.027,210.8322 818.54,630.2889 104.672,94.9296 432.297,459.1946 550.577,610.4198 315.064,404.003 282.615,330.0462 278.429,622.562 l -3.141,226.2861 -98.392,-154.5369 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10016.417,9776.2159 c -57.5703,-7.7268 -106.7662,-15.4537 -108.8591,-15.4537 -6.2803,-1.1038 473.1191,-343.2921 479.3991,-343.2921 4.188,1.1038 28.262,22.0766 54.431,47.4648 l 48.149,47.4648 -169.57,134.6677 c -198.877,157.8482 -172.71,146.8098 -303.55,129.1485 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 9867.7821,9694.5322 c 3.1397,-13.246 35.5883,-192.067 72.2235,-398.4838 35.5893,-206.4168 68.0384,-375.3033 71.1774,-374.1995 8.374,1.1038 260.635,322.3193 301.457,384.134 46.056,68.4377 70.131,41.9457 -221.906,249.4663 -171.6622,122.5255 -228.1854,156.7444 -222.9519,139.083 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 13051.919,9422.9892 c -320.297,-418.3528 -561.044,-692.1035 -821.678,-932.7391 -359.027,-331.1501 -479.401,-423.8721 -723.288,-553.0206 l -106.766,-56.2955 63.851,-67.3338 64.896,-68.4377 209.345,-8.8306 209.346,-8.8307 306.69,96.0335 c 602.914,187.6517 679.325,267.1277 708.633,736.2569 12.56,198.69 27.215,251.674 93.158,344.396 l 42.916,60.7108 -2.093,256.0893 -3.141,256.0894 -41.869,-54.0879 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10497.911,9441.7544 c -59.664,-39.738 -66.991,-57.3993 -32.449,-83.8913 254.354,-193.1709 342.279,-353.2267 452.185,-816.8367 72.224,-303.5542 57.57,-281.4775 146.541,-219.6628 248.075,172.198 150.729,464.7138 -311.923,934.9468 -216.672,219.6628 -209.346,214.1437 -254.354,185.444 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10362.883,9277.2832 c -17.794,-27.5958 -102.58,-139.083 -190.504,-247.2586 -221.9055,-273.7507 -366.3538,-561.8512 -440.6713,-881.9629 l -36.6353,-160.0558 6.2803,-248.3625 c 4.1869,-136.8754 11.5139,-299.1389 15.7009,-360.9535 16.7476,-211.936 -38.7289,-421.6644 -218.7656,-820.1482 -229.2327,-507.7634 -274.242,-944.8814 -151.7752,-1451.5409 42.9158,-175.5095 62.8035,-424.9758 55.4765,-668.923 -4.1869,-119.214 -3.1402,-164.4711 6.2803,-164.4711 6.2804,0 58.6167,7.7268 116.1865,17.6613 57.57,8.8307 206.2049,19.869 330.7653,23.1805 l 226.0926,6.623 12.561,89.4105 c 24.074,186.5478 14.654,455.8832 -38.729,1068.5107 -28.261,317.904 -49.196,609.316 -47.102,649.054 27.214,565.1627 109.905,890.7935 335.998,1324.6 92.111,176.6133 289.943,440.4295 513.942,687.6882 l 78.504,84.9952 -65.944,279.2698 c -107.813,452.5717 -188.41,609.316 -402.989,777.0987 -74.317,58.5031 -68.037,58.5031 -104.672,-4.4154 z"
                />
                <path fill={this.getRandomColor()}
                   d="m -299.05807,8061.9627 0,-1080.6528 136.07425,-78.3722 c 75.364203,-44.1533 140.261156,-79.476 144.448052,-79.476 8.373804,0 844.707078,1643.6079 844.707078,1660.1654 0,8.8306 -1101.1547,657.8846 -1116.85558,657.8846 -5.23363,0 -8.3738,-485.6866 -8.3738,-1079.549 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 13075.994,8832.4384 c -34.541,-54.0878 -47.102,-118.1102 -59.663,-303.5542 -14.654,-209.7283 -28.262,-278.166 -79.552,-377.511 l -35.588,-67.3338 96.299,-79.476 96.298,-78.3722 3.141,231.805 c 5.233,493.4135 -1.047,705.3495 -20.935,674.4422 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 456.67738,7622.637 C 224.30444,7163.4424 35.893929,6787.0352 37.987382,6785.9314 39.034104,6783.7237 545.64902,6486.7925 1161.1233,6125.839 1777.6444,5764.8855 2961.4903,5069.4705 3793.6367,4580.4723 4625.7831,4091.4741 5320.8085,3684.1596 5338.6028,3674.2251 l 32.4485,-17.6613 432.2975,796.9677 c 238.6533,438.2218 439.6245,808.006 446.9515,820.1482 11.514,19.869 -5333.06391,3187.8707 -5368.65256,3183.4554 -2.09345,-1.1039 -193.64413,-376.4072 -424.97036,-834.4981 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10847.517,8040.9899 c -682.465,-751.7105 -848.8945,-1331.223 -738.988,-2569.7241 62.804,-696.5188 72.224,-1016.6305 33.495,-1121.4946 -4.187,-13.246 30.355,-15.4537 221.906,-15.4537 125.607,0 279.475,-4.4153 342.278,-9.9345 l 113.047,-8.8307 -4.187,335.5654 c -5.233,320.1116 -7.327,349.9151 -53.382,704.2456 -122.468,942.6737 -143.403,1634.7772 -54.431,1795.9369 69.084,125.837 491.961,660.0923 568.372,718.5955 15.701,12.1422 26.169,24.2843 23.028,26.492 -372.634,320.1117 -308.784,300.2427 -451.138,144.6022 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 12816.406,8004.5634 c -81.645,-73.9569 -197.831,-124.7332 -518.128,-226.2859 l -314.018,-99.345 -49.196,-77.2683 c -54.43,-84.9952 -115.14,-147.9137 -167.477,-174.4057 l -33.494,-16.5575 -102.579,-517.6978 -102.58,-516.594 -48.149,-567.3704 -48.149,-567.3703 47.102,-251.674 48.15,-252.7778 85.831,-163.3674 c 47.103,-89.4105 131.888,-241.7395 188.411,-338.8768 l 102.579,-176.6134 113.047,-43.0495 c 61.756,-24.2843 198.877,-79.476 304.596,-124.7331 222.953,-93.8259 176.897,-89.4105 512.895,-51.8802 l 263.775,29.8035 -1.046,1993.523 0,1993.5231 -113.047,88.3066 c -136.074,104.8642 -123.514,100.4489 -168.523,60.7109 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 11318.543,7830.1577 c -160.149,-112.591 -584.073,-707.5572 -605.007,-848.8478 -29.308,-198.69 21.981,-1002.2807 102.579,-1631.4657 50.243,-385.2379 68.037,-647.9502 57.57,-872.0284 l -6.28,-166.6788 154.915,-36.4265 c 85.831,-20.9728 161.195,-39.738 167.475,-41.9457 14.655,-5.5191 276.336,486.7905 276.336,518.8017 -1.046,13.246 -20.934,126.9408 -45.009,253.8817 l -45.009,228.4935 49.196,577.3048 49.196,576.201 100.485,504.4519 c 118.28,592.7585 110.953,515.4901 55.477,587.2393 -24.075,32.0112 -63.851,91.6182 -87.925,134.6677 -24.075,41.9456 -78.504,112.591 -120.374,155.6405 l -76.41,80.5798 -27.215,-19.869 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 11570.804,7678.9325 c 0,-7.7268 84.784,-137.9791 124.56,-192.067 l 18.841,-26.492 35.588,23.1805 c 53.384,34.2189 167.477,171.0942 154.916,184.3402 -8.374,7.7268 -333.905,18.7652 -333.905,11.0383 z"
                />
                <path fill={this.getRandomColor()}
                   d="m -299.05807,6594.9682 c 0,-183.2363 4.1869,-311.281 9.42052,-301.3465 5.23363,8.8307 62.8035,119.214 128.74718,243.9472 l 120.373378,227.3896 -120.373378,70.6454 c -66.9904,38.6341 -125.607,72.853 -129.7939,73.9568 -4.1869,2.2077 -8.3738,-139.083 -8.3738,-314.5925 z"
                />
                <path fill={this.getRandomColor()}
                   d="m -146.23622,6443.743 -152.82185,-291.412 0,-704.2457 1.04673,-705.3495 473.1197,-274.8545 C 435.74288,4316.6562 1008.3015,3979.987 1448.9727,3721.69 c 440.6712,-259.4009 826.9128,-486.7905 858.3145,-504.4519 114.093,-66.23 594.5398,-349.9151 1359.6958,-801.383 428.1105,-253.8816 780.8569,-459.1947 781.9036,-456.987 7.327,7.7268 893.9031,1645.8155 890.763,1646.9194 -1.0468,1.1038 -693.9787,408.4183 -1540.7792,905.1433 -845.7539,496.725 -2030.6466,1192.14 -2632.5135,1545.3667 C 564.49007,6409.5242 56.828432,6706.4554 39.034104,6716.3899 L 6.5856323,6735.155 -146.23622,6443.743 Z"
                />
                <path fill={this.getRandomColor()}
                   d="M 6324.6178,4978.9562 C 6251.347,4857.5345 5754.1527,3928.1068 5489.3312,3418.1358 4774.4181,2042.7594 4267.8031,1073.5938 4231.1678,1008.4676 l -20.9345,-35.32267 98.3921,-46.361 c 53.383,-25.38817 270.055,-137.97917 482.5402,-248.3625 451.1385,-236.22034 393.5686,-220.76667 435.4377,-119.21401 25.1214,59.60701 39.7755,82.78751 54.4296,82.78751 33.4953,0 32.4485,-20.97284 -9.4205,-118.11017 -34.5419,-79.476 -39.7756,-101.55267 -30.355,-122.52551 14.6541,-33.115 6.2803,-39.738 147.5882,124.73317 364.2604,422.76818 831.0997,838.91338 1252.9299,1115.97548 l 51.2895,34.2189 -94.2053,133.5638 c -51.2895,73.9568 -101.5323,150.1213 -109.9061,168.8865 l -17.7943,34.2188 -41.869,-41.9456 c -23.0279,-24.2844 -83.738,-107.0719 -135.0275,-186.5479 -117.2332,-182.1325 -343.3258,-422.7681 -768.2962,-816.83664 -113.0463,-105.968 -125.607,-120.31783 -163.2891,-211.936 -18.8411,-44.15333 -38.7288,-80.57983 -45.0092,-80.57983 -78.5043,1.10383 10.4673,190.96317 145.4948,312.38483 158.0554,143.49834 658.39,644.63864 700.259,703.14184 25.1214,33.115 69.0839,100.4488 100.4856,149.0175 30.3551,48.5687 86.8782,123.6293 125.607,165.575 45.0092,49.6725 75.3642,92.722 83.738,121.4217 34.542,117.0063 189.4572,409.5222 279.4756,529.84 189.4572,251.674 328.6717,328.9423 767.2494,431.5988 196.7843,46.361 486.7272,128.0447 522.3158,147.9137 11.514,6.623 3.1402,14.3498 -27.2148,32.0112 -326.5782,175.5095 -557.9045,401.7953 -939.9591,920.597 -264.8214,359.8497 -274.242,370.888 -344.3725,411.7298 -68.0372,40.8419 -150.7284,125.837 -348.5594,356.5382 l -41.869,49.6725 -15.7009,-27.5958 z"
                />
                <path fill={this.getRandomColor()}
                   d="m -296.96462,3593.6453 3.14018,-1076.2375 1308.40624,-759.4374 C 3404.255,372.65959 3530.9087,299.80659 3540.3292,299.80659 c 10.4673,0 870.8753,1579.58551 870.8753,1598.35071 0,9.9345 -772.4831,470.233 -2250.4588,1337.846 -348.5594,204.2092 -814.3521,479.0637 -1036.2578,609.316 -599.77339,353.2267 -1410.98527,825.6674 -1417.26562,825.6674 -4.1869,0 -5.23362,-484.5829 -4.1869,-1077.3414 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 11382.393,4450.22 c -64.897,-122.5255 -114.093,-226.2858 -108.859,-230.7012 5.233,-5.5191 49.195,-17.6613 98.391,-27.5958 49.197,-11.0383 168.524,-38.6342 265.869,-62.9185 210.392,-50.7764 194.691,-58.5032 123.513,61.8147 -32.448,55.1916 -104.672,185.444 -160.148,290.3081 l -101.533,190.9632 -117.233,-221.8705 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 6912.8772,4509.827 c 0,-14.3498 451.1385,-614.8352 531.7363,-708.661 151.7752,-175.5095 468.9329,-426.0797 638.5023,-505.5557 l 57.5699,-26.492 95.252,37.5303 c 434.3908,172.198 796.5576,441.5334 1000.669,741.776 99.4389,146.8099 96.2987,161.1597 -21.9812,136.8754 -384.148,-79.476 -709.6796,-69.5415 -967.1739,27.5958 -190.5039,72.853 -186.317,71.7492 -417.6433,82.7875 -277.3821,14.3499 -391.4752,37.5304 -676.1843,137.9792 -256.4476,90.5143 -240.7468,84.9952 -240.7468,76.1645 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10201.688,4273.6067 c -80.598,-9.9345 -69.084,4.4153 -107.813,-139.0831 C 9951.5204,3598.0606 9634.3622,3133.3468 9201.0181,2827.585 9030.402,2707.2671 8939.3369,2663.1138 8153.2464,2315.4063 7223.7546,1905.8841 6857.4008,1729.2708 6783.0834,1657.5216 c -4.187,-5.5192 16.7475,-43.0495 48.1493,-84.9952 31.4017,-40.8418 97.3454,-151.2251 145.4947,-242.8433 48.1494,-92.722 91.0651,-168.8865 96.2988,-168.8865 4.1868,0 55.4764,32.0112 115.1397,70.6453 99.4389,66.23 155.962,89.4105 855.1743,357.642 1884.1047,724.1147 1705.1151,641.3272 2041.1138,933.8431 112,97.1373 255.401,213.0398 318.205,254.9855 173.756,118.1101 208.298,154.5366 234.465,250.5701 70.131,260.5047 132.935,617.0429 143.403,820.1482 4.186,72.853 13.606,194.2747 20.933,270.4392 7.328,76.1645 13.608,139.083 12.561,139.083 -5.233,4.4153 -457.419,26.492 -499.287,25.3882 -26.168,-1.1039 -76.411,-5.5192 -113.046,-9.9345 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 9681.4649,4250.4262 c -51.2895,-5.5192 -140.2612,-16.5575 -196.7844,-24.2844 l -102.5789,-13.246 -24.0748,-60.7108 c -180.0366,-466.9215 -884.4826,-900.728 -1817.1146,-1119.287 -457.4188,-107.0719 -573.6053,-174.4057 -765.156,-442.6372 -83.7379,-115.9025 -260.6345,-466.9215 -260.6345,-516.594 0,-32.0112 34.5419,-93.8259 133.9808,-236.2204 l 93.1586,-133.5638 187.3637,105.968 c 228.1861,128.0447 287.8494,156.7443 1181.7526,550.8129 1080.2202,475.7521 1208.9673,558.5396 1544.9661,985.7231 161.1958,205.313 407.1765,748.399 407.1765,898.5204 0,15.4537 -248.0745,19.869 -382.0551,5.5192 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10869.497,4243.8032 c 0,-5.5192 -5.233,-50.7764 -10.467,-102.6566 -5.233,-51.8801 -15.7,-175.5095 -20.934,-275.9583 -14.654,-238.428 -94.206,-699.8303 -146.541,-843.3287 -15.702,-44.1533 -60.711,-294.7235 -74.318,-409.5221 -19.887,-181.0287 -12.56,-232.9089 48.15,-326.7347 70.13,-108.1757 298.316,-303.5542 472.073,-401.7954 l 74.317,-43.0495 328.672,51.8802 c 181.083,28.6997 406.129,59.607 501.381,68.4377 240.746,23.1805 812.258,160.0558 1029.977,248.3625 l 27.215,11.0383 0,603.7969 0,604.9006 -311.924,167.7827 c -319.251,171.0942 -465.793,239.5318 -766.203,354.3305 -182.13,70.6453 -267.961,93.8258 -622.801,174.4057 -120.374,27.5958 -278.429,64.0223 -350.653,81.6837 -72.224,18.7651 -141.307,35.3226 -153.868,38.6341 -13.608,3.3115 -24.076,2.2077 -24.076,-2.2076 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 12844.668,3782.4008 c -114.093,-14.3498 -209.345,-27.5958 -211.438,-29.8035 -5.235,-4.4153 445.905,-251.674 459.511,-251.674 3.141,0 6.281,69.5415 6.281,154.5367 0,153.4328 0,154.5366 -23.028,153.4328 -13.608,-1.1038 -117.233,-13.246 -231.326,-26.492 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10565.948,2826.4811 c -14.655,-12.1421 -73.272,-55.1916 -130.841,-94.9296 -107.812,-75.0607 -173.757,-129.1485 -387.289,-317.904 -210.3908,-185.444 -244.933,-204.2092 -703.3985,-383.0302 l -406.1294,-157.8482 57.5699,-7.7268 c 98.3921,-12.1422 625.9415,-9.9345 827.9596,4.4153 231.3264,15.4537 509.7554,17.6613 612.3334,5.5192 l 74.319,-9.9345 6.28,153.4328 c 3.14,96.0335 12.561,174.4057 23.028,213.0399 13.607,44.1533 17.794,94.9296 15.7,187.6516 -1.046,112.591 21.982,370.888 37.682,413.9375 8.374,20.9729 4.188,20.9729 -27.214,-6.623 z"
                />
                <path fill={this.getRandomColor()}
                   d="m -296.96462,1369.4211 3.14018,-1083.96435 778.7634,-462.50617 779.81014,-461.40234 888.6696,2.20766 889.7162,3.3115 235.5131,433.80651 c 133.9808,248.362506 231.3263,438.22184 226.0926,443.74101 -9.4205,8.83067 -170.6161,102.6565 -2469.2243,1434.98338 -673.04416,390.757 -1249.78965,724.1147 -1280.14467,741.776 l -54.4297,33.115 2.09345,-1085.0682 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 10586.882,2196.1923 c -7.327,-32.0112 -15.701,-126.9409 -17.794,-210.8322 l -6.281,-152.329 40.823,-45.2572 c 105.719,-114.7986 265.867,-124.7331 451.138,-28.6996 97.345,50.7763 97.345,49.6725 15.701,97.1373 -127.7,76.1645 -361.12,269.3353 -415.549,343.2922 -48.15,67.3338 -53.384,67.3338 -68.038,-3.3115 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 13051.919,2142.1045 c -145.494,-69.5416 -758.875,-215.2476 -1025.79,-241.7396 -422.877,-41.9456 -805.978,-112.591 -891.81,-164.4711 -227.139,-135.7715 -444.858,-131.3562 -569.418,11.0383 l -49.196,56.2955 -123.514,16.5575 c -109.906,15.4537 -148.635,15.4537 -333.905,2.2077 -127.7004,-8.8307 -421.8303,-15.4537 -753.6421,-16.5575 l -544.297,-2.2077 -460.559,-176.6133 c -951.473,-365.3689 -973.4543,-374.1995 -1076.0333,-439.3257 -52.3363,-34.2188 -102.5791,-68.4377 -108.8595,-75.0607 -10.4672,-9.9345 7.3272,-43.0495 76.411,-145.70597 l 91.0651,-133.56383 267.9616,161.15966 c 363.2136,219.66284 347.5127,211.93604 571.5118,296.93114 229.2328,88.3067 378.9145,121.4217 706.5394,156.7444 359.0267,38.6341 512.8953,25.3881 1051.9588,-93.8259 94.2052,-19.869 267.9612,-47.4648 397.7562,-60.7108 l 230.279,-25.3882 225.045,29.8035 c 1080.221,141.2907 1427.734,165.575 1748.032,123.6294 392.521,-51.8802 475.212,-59.607 547.437,-54.0879 l 70.13,6.623 0,389.6532 c 0,412.8337 1.047,402.8992 -47.103,378.6149 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 6644.9157,1572.5264 C 6101.6654,1190.6001 5776.1339,895.8766 5366.8644,413.50142 l -76.4109,-89.4105 231.3262,-229.597337 c 271.1018,-270.439173 235.5131,-248.362503 286.8026,-179.924836 54.4298,71.749168 986.015,1005.592183 1109.5286,1112.664053 52.3362,44.1533 96.2986,86.099 97.3454,90.5143 10.4672,27.5958 -249.1206,473.5445 -290.9896,501.1403 -4.1868,2.2077 -39.7755,-17.6613 -79.551,-46.361 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 8838.8513,1392.6016 C 8312.3486,1331.8908 8097.77,1256.8301 7614.1829,965.4181 L 7294.9319,773.35109 7133.7362,605.56842 c -324.4847,-338.87683 -608.1472,-731.84151 -693.9787,-962.54268 -9.4205,-24.28433 -38.7288,-97.13733 -64.8969,-162.2635 l -47.1026,-119.214 64.8969,0 65.9437,0 82.6913,140.18683 c 46.0558,77.26834 151.7751,237.32417 235.5131,355.43434 l 152.8218,216.351339 332.8586,322.319341 332.8585,323.42317 352.7464,193.17084 352.7463,193.1708 418.69,33.115 417.6433,34.2189 580.9324,-94.9297 c 359.0267,-58.5032 677.2307,-103.76034 832.1457,-118.11017 l 251.214,-24.28433 387.289,101.5527 387.288,100.4488 261.681,6.623 c 247.028,5.5192 558.951,-9.9345 1222.576,-64.0223 l 38.728,-3.3115 0,119.214 0,118.1101 -65.944,-6.623 c -69.083,-6.623 -120.373,-1.1038 -535.923,51.8802 -353.792,46.361 -620.708,27.5958 -1758.498,-120.3178 l -241.793,-30.9074 -255.402,30.9074 c -141.307,16.5575 -311.9233,43.0495 -379.9603,58.5031 -466.8394,109.2795 -705.4927,131.3562 -1022.6504,94.9297 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 6939.0453,968.7296 C 6586.299,658.55243 5788.6946,-172.63409 5811.7225,-205.74909 c 24.0747,-35.32267 26.1682,-48.56867 8.3738,-66.23 -16.7475,-17.66133 -18.841,-16.5575 -36.6354,6.623 l -17.7942,25.38817 -117.2333,-193.17084 c -64.897,-107.07183 -117.2332,-196.48234 -117.2332,-199.79384 0,-3.3115 73.2708,-5.51916 162.2424,-5.51916 l 162.2424,0 0,38.63416 c 0,34.21884 3.1401,38.63417 26.1682,38.63417 23.0279,0 26.168,-4.41533 26.168,-38.63417 l 0,-38.63416 181.0835,0 181.0834,0 66.9904,174.40567 c 144.4481,374.199503 347.5127,675.54601 728.5206,1083.96435 l 169.5695,182.1325 -87.9249,130.25234 c -105.7193,153.4328 -80.5979,149.0175 -208.2984,36.4265 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 3987.2809,542.64992 C 3879.4682,335.12925 3792.59,165.13892 3794.6834,162.93125 c 2.0935,-2.20767 70.1306,-19.869 150.7285,-38.63417 80.5977,-18.76516 174.803,-43.049497 209.3449,-51.880164 88.9717,-25.388167 133.9809,-11.038334 300.4101,94.929664 211.4384,136.87534 335.9987,164.47117 495.101,111.48717 l 62.8035,-20.97283 73.2707,76.1645 c 46.0559,47.46483 69.0838,79.476 62.8035,86.099 -25.1214,24.28434 -939.959,497.82884 -962.987,497.82884 -1.0467,0 -90.0183,-168.8865 -198.8777,-375.30334 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 5128.2111,299.80659 c -59.6634,-62.9185 -65.9437,-110.38334 -15.7009,-110.38334 19.8878,0 105.7192,133.56384 99.4389,154.53667 -9.4205,32.01117 -14.6542,28.69967 -83.738,-44.15333 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 5055.987,8.3945816 C 4863.3897,-252.11009 4611.129,-613.0636 4610.0822,-630.72493 c 0,-4.41533 191.5507,-6.623 426.0171,-5.51917 l 424.9703,3.3115 133.9808,220.76667 c 74.3175,121.42167 130.8407,222.97434 126.6538,227.38968 -4.1869,3.3115 -101.5324,100.44883 -216.6721,215.247499 -115.1397,114.798671 -218.7655,216.351341 -230.2795,226.285841 -19.8878,17.66133 -27.2149,8.83066 -218.7656,-248.3625084 z"
                />
                <path fill={this.getRandomColor()}
                   d="m 4686.4932,228.05742 c -29.3084,-8.83067 -120.3735,-58.50317 -202.018,-110.38334 -190.5039,-120.3178319 -230.2795,-131.356165 -371.5873,-99.344998 -108.8595,24.284333 -102.5791,-143.498332 10.4672,-259.400842 103.6257,-107.07183 115.1398,-134.66766 113.0463,-278.166 l -1.0467,-119.214 33.4952,0 c 30.355,0 41.869,12.14216 133.9807,141.29067 100.4856,140.18683 322.3914,416.14517 486.7272,606.00451 l 87.9249,100.44883 -57.5699,17.66134 c -69.0838,20.97283 -160.1489,22.07666 -233.4196,1.10383 z"
                />
                <path fill={this.getRandomColor()}
                   d="m -299.05807,-207.95676 0,-430.495 725.38043,0 c 543.25028,1.10383 719.10004,3.3115 703.39924,13.246 -11.514,6.623 -326.57824,193.17083 -701.30579,415.04134 -373.680831,220.766668 -690.8385,409.52217 -703.3992,417.249 l -24.07468,15.45367 0,-430.49501 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 4912.5858,49.236416 C 4661.3718,-247.69476 4380.8494,-606.4406 4379.8027,-629.6211 c 0,-5.51916 34.5419,-8.83066 77.4577,-8.83066 l 78.5044,0 55.4763,86.099 c 114.0931,173.30184 280.5224,411.72984 378.9145,540.878341 109.9061,146.809839 108.8595,144.602169 81.6446,171.094169 -26.1681,25.38817 -16.7476,33.115 -139.2144,-110.383334 z"
                />
                <path fill={this.getRandomColor()}
                   d="M 3737.1135,63.586249 C 3680.5904,-40.174086 3374.9467,-627.41343 3374.9467,-632.9326 c 0,-3.3115 182.1302,-5.51916 404.0358,-5.51916 l 404.0359,0 -4.1869,125.837 -3.1401,125.837 -81.6446,89.4105 c -131.8873,145.70601 -141.3079,173.30184 -96.2987,275.958341 32.4485,72.853001 41.869,64.022334 -109.9062,100.448835 l -125.607,29.803504 -25.1214,-45.257171 z"
                />
              </g>
            </svg>
            <p>Just a random map to show you an example of the palette and background color you selected.</p>
          </Col>
          <Col sm={6}>
            <div className="navigation">
              <Button bsStyle="primary"
                      onClick={() => this.props.selectPalette(-1)}
                      className={this.props.paletteIndex <= 0 ? 'moveUp disabled' : 'moveUp'}>
                <Glyphicon glyph="chevron-up"/>
              </Button>
            </div>
            <div className="scrollableWrapper">
              <div className="scrollable"
                   style={scrollableStyle}
                   onWheel={this.wheel}
                   onTouchStart={this._touchStart}
                   onTouchEnd={this._touchEnd}>
                {colorBars}
              </div>
            </div>
            <div className="navigation">
              <Button bsStyle="primary"
                      onClick={() => this.props.selectPalette(1)}
                      className={this.props.paletteIndex >= (this.props.palettes.length - 1) ? 'moveDown disabled' : 'moveDown'}>
                <Glyphicon glyph="chevron-down"/>
              </Button>
            </div>
          </Col>
        </Row>
      </div>
    );
  }
}

export default ColorSelector;
